project.ext.srcDirs =[
        "colorpicker",
        "drawable",
        "navigation",
        "bottomupDialog",
        "launchmode",
        "fragmentx",
        "testStyle",
        "photo",
        "feedback",
        "customview",

]
//apply plugin: 'foundation-module'
apply from: "${rootDir.path}/script/foundation_module.gradle"
apply plugin: 'kotlin-kapt'
android {
    sourceSets {
        if (project.hasProperty("srcDirs")) {
            main {
                java.excludes = [
                        '**/build/**',
                ]
                project.ext.srcDirs.forEach {
                    assets.srcDirs += "$projectDir/$it/main/assets"
                    aidl.srcDirs += "$projectDir/$it/main/aidl"
                    res.srcDirs += "$projectDir/$it/main/res-frame-animation"
                    res.srcDirs += "$projectDir/$it/main/res"
                    java.srcDirs += "$projectDir/$it/main/java"

//                    assets.srcDirs += "$projectDir/src/inhouse/assets"
//                    aidl.srcDirs += "$projectDir/src/inhouse/aidl"
//                    res.srcDirs += "$projectDir/src/inhouse/res"
//                    java.srcDirs += "$projectDir/src/inhouse/java"
                }
            }
            androidTest {
                project.ext.srcDirs.forEach {
                    assets.srcDirs += "$projectDir/$it/androidTest/assets"
                    aidl.srcDirs += "$projectDir/$it/androidTest/aidl"
                    res.srcDirs += "$projectDir/$it/androidTest/res"
                    java.srcDirs += "$projectDir/$it/androidTest/java"

                }
            }
            test {
                project.ext.srcDirs.forEach {
                    java.srcDirs += "$projectDir/$it/test/java"
                }

            }
        }
    }
    buildFeatures {
        viewBinding true
        dataBinding true
        compose true
    }
    composeOptions {
        kotlinCompilerVersion "1.5.10"
        kotlinCompilerExtensionVersion "1.0.0-beta08"
    }
    kotlinOptions {
        jvmTarget = "1.8"
//        useIR = true
//        freeCompilerArgs = freeCompilerArgs + [ "-P","plugin:androidx.compose.compiler.plugins.kotlin:suppressKotlinVersionCompatibilityCheck=true"]
    }

}
dependencies {
//    implementation project(path: ':framework:common')
//    implementation project(path: ':framework:av')
//    implementation project(path: ':framework:image')
    /**
     * ================================ui start=====================================
     */
    api 'jp.wasabeef:recyclerview-animators:4.0.2'
    api 'com.github.DingMouRen:LayoutManagerGroup:1e6f4f96eb'
    api "androidx.recyclerview:recyclerview:1.2.1"
    api 'androidx.navigation:navigation-fragment:2.3.5'
    api 'androidx.navigation:navigation-ui:2.3.5'
    api 'androidx.navigation:navigation-common-ktx:2.3.5'
    api 'androidx.navigation:navigation-runtime-ktx:2.3.5'
    api 'androidx.navigation:navigation-fragment-ktx:2.3.5'
    api 'androidx.navigation:navigation-ui-ktx:2.3.5'

    api 'com.scwang.smart:refresh-layout-kernel:2.0.3'      //核心必须依赖
    api 'com.scwang.smart:refresh-header-classics:2.0.3'    //经典刷新头
    api 'com.scwang.smart:refresh-header-radar:2.0.3'       //雷达刷新头
    api 'com.scwang.smart:refresh-header-falsify:2.0.3'     //虚拟刷新头
    api 'com.scwang.smart:refresh-header-material:2.0.3'    //谷歌刷新头
    api 'com.scwang.smart:refresh-header-two-level:2.0.3'   //二级刷新头
    api 'com.scwang.smart:refresh-footer-ball:2.0.3'        //球脉冲加载
    api 'com.scwang.smart:refresh-footer-classics:2.0.3'    //经典加载


    //layout start
    api 'androidx.constraintlayout:constraintlayout:2.1.0-beta02'
    api 'com.google.android:flexbox:1.1.0'
    //layout end

    api 'androidx.palette:palette-ktx:1.0.0'
    /*
   *该库和`com.android.support:design:`都存在v4，编译时会报错：
   *com.android.build.api.transform.TransformException: java.util.zip.ZipException: duplicate entry: *android/support/v4/app/INotificationSideChannel$Stub$Proxy.class
   *解决方法：需要exclude掉v4包
    */
    api "com.google.android.material:material:1.4.0"
    api 'androidx.vectordrawable:vectordrawable:1.1.0'


    //animotor
    api 'com.airbnb.android:lottie:3.2.2'
    api 'com.github.Almeros:android-gesture-detectors:v1.0'

    //rx ui
    api 'com.jakewharton.rxbinding3:rxbinding-core:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-appcompat:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-drawerlayout:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-leanback:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-recyclerview:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-slidingpanelayout:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-swiperefreshlayout:3.0.0'
    api 'com.jakewharton.rxbinding3:rxbinding-viewpager:3.0.0'

    api "androidx.paging:paging-runtime-ktx:3.0.0"
    testImplementation "androidx.paging:paging-common-ktx:3.0.0"
//    api "androidx.paging:paging-rxjava3-ktx:3.0.0"
    api "androidx.paging:paging-compose:1.0.0-alpha10"

    api "androidx.work:work-runtime:2.5.0"
    api "androidx.work:work-runtime-ktx:2.5.0"
//    api "androidx.work:work-rxjava2:2.5.0"
    api "androidx.work:work-gcm:2.5.0"
    androidTestImplementation "androidx.work:work-testing:2.5.0"
//    api "androidx.work:work-firebase:2.2.0"

    api 'com.firebaseui:firebase-ui-database:6.0.2'
    api 'com.firebaseui:firebase-ui-firestore:6.0.2'
    api 'com.firebaseui:firebase-ui-auth:6.0.2'
    api 'com.firebaseui:firebase-ui-storage:6.0.2'

    api 'androidx.emoji:emoji:1.1.0'
    api 'androidx.emoji:emoji-appcompat:1.1.0'
    api 'androidx.emoji:emoji-bundled:1.1.0'

    api 'androidx.databinding:databinding-runtime:7.0.0-beta03'
    api 'com.github.markzhai:databinding-rv-adapter:1.0.1'
    /**
     * ================================ui end=====================================
     */
}
